<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<!-- Giao diện mẫu theo ảnh: topbar đỏ, tiêu đề lớn, tab chuyển Môn học / Lớp học phần / Người dùng,
     bên dưới là cụm nút: Tải lại, Thêm, Sửa, Xoá, Xem chi tiết -->
<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="main.java.controller.AdminTabbedDashboardController"
            prefWidth="1280" prefHeight="720" stylesheets="@admin.css">
    <!-- ======= TOP BAR (đỏ) ======= -->
    <top>
        <HBox alignment="CENTER_LEFT" spacing="12" style="-fx-background-color: #a3151a;">
            <padding>
                <Insets top="10" right="16" bottom="10" left="16"/>
            </padding>
            <children>
                <Label text="Admin" style="-fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="logoutBtn" text="Đăng xuất" onAction="#handleLogout"
                        style="-fx-background-color: white; -fx-text-fill: #a3151a; -fx-background-radius: 6;"/>
            </children>
        </HBox>
    </top>

    <!-- ======= CENTER ======= -->
    <center>
        <VBox spacing="12">
            <padding>
                <Insets top="18" right="16" bottom="0" left="16"/>
            </padding>
            <children>
                <!-- Tiêu đề lớn (đổi theo tab trong Controller) -->
                <!-- Removed the global titleLabel Label as requested -->

                <!-- Tabs: Course / Offering / User -->
                <TabPane fx:id="tabPane" tabClosingPolicy="UNAVAILABLE">
                    <tabs>
                        <!-- = Tab: Lớp học phần (theo ảnh) = -->
                        <Tab fx:id="offeringTab" text="Lớp học phần">
                            <content>
                                <BorderPane>
                                    <top>
                                        <Label text="QUẢN LÝ LỚP HỌC PHẦN" maxWidth="Infinity" alignment="CENTER"
                                               style="-fx-font-size: 32; -fx-font-weight: normal; -fx-text-fill: #a3151a;"/>
                                    </top>
                                    <center>
                                        <TableView fx:id="offeringTable" VBox.vgrow="ALWAYS">
                                            <placeholder><Label text="No content in table"/></placeholder>
                                            <columns>
                                                <TableColumn fx:id="colOfferingCode" text="Mã HP" prefWidth="110"/>
                                                <TableColumn fx:id="colCourseCode" text="Mã MH" prefWidth="110"/>
                                                <TableColumn fx:id="colCourseName" text="Tên môn học" prefWidth="240"/>
                                                <TableColumn fx:id="colCredits" text="Số tín chỉ" prefWidth="90"/>
                                                <TableColumn fx:id="colLecturer" text="Giảng viên" prefWidth="180"/>
                                                <TableColumn fx:id="colSemester" text="Học kỳ" prefWidth="100"/>
                                                <TableColumn fx:id="colSchedule" text="Lịch học" prefWidth="180"/>
                                                <TableColumn fx:id="colRoom" text="Phòng" prefWidth="90"/>
                                                <TableColumn fx:id="colCapacity" text="Sĩ số" prefWidth="80"/>
                                                <TableColumn fx:id="colRemaining" text="Sĩ số còn lại" prefWidth="120"/>
                                            </columns>
                                        </TableView>
                                    </center>
                                    <bottom>
                                        <HBox alignment="CENTER" spacing="20">
                                            <padding>
                                                <Insets top="12" right="0" bottom="18" left="0"/>
                                            </padding>
                                            <children>
                                                <Button fx:id="offeringReloadBtn" text="Tải lại bảng" onAction="#handleReload"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="offeringAddBtn" text="Thêm lớp học phần" onAction="#handleAdd"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="offeringEditBtn" text="Sửa lớp học phần" onAction="#handleEdit"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="offeringDeleteBtn" text="Xoá lớp học phần" onAction="#handleDelete"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="offeringDetailBtn" text="Xem chi tiết" onAction="#handleViewDetail"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                            </children>
                                        </HBox>
                                    </bottom>
                                </BorderPane>
                            </content>
                        </Tab>

                        <!-- = Tab: Môn học = -->
                        <Tab fx:id="courseTab" text="Môn học">
                            <content>
                                <BorderPane>
                                    <top>
                                        <Label text="QUẢN LÝ MÔN HỌC" maxWidth="Infinity" alignment="CENTER"
                                               style="-fx-font-size: 32; -fx-font-weight: normal; -fx-text-fill: #a3151a;"/>
                                    </top>
                                    <center>
                                        <TableView fx:id="courseTable" VBox.vgrow="ALWAYS">
                                            <placeholder><Label text="No content in table"/></placeholder>
                                            <columns>
                                                <TableColumn fx:id="courseCodeCol" text="Mã MH" prefWidth="120"/>
                                                <TableColumn fx:id="courseNameCol" text="Tên môn học" prefWidth="320"/>
                                                <TableColumn fx:id="courseCreditsCol" text="Số tín chỉ" prefWidth="100"/>
                                                <TableColumn fx:id="courseFacultyCol" text="Khoa" prefWidth="220"/>
                                            </columns>
                                        </TableView>
                                    </center>
                                    <bottom>
                                        <HBox alignment="CENTER" spacing="20">
                                            <padding>
                                                <Insets top="12" right="0" bottom="18" left="0"/>
                                            </padding>
                                            <children>
                                                <Button fx:id="courseReloadBtn" text="Tải lại bảng" onAction="#handleReload"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="courseAddBtn" text="Thêm môn học" onAction="#handleAdd"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="courseEditBtn" text="Sửa môn học" onAction="#handleEdit"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="courseDeleteBtn" text="Xoá môn học" onAction="#handleDelete"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="courseDetailBtn" text="Xem chi tiết" onAction="#handleViewDetail"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                            </children>
                                        </HBox>
                                    </bottom>
                                </BorderPane>
                            </content>
                        </Tab>

                        <!-- = Tab: Người dùng = -->
                        <Tab fx:id="userTab" text="Người dùng">
                            <content>
                                <BorderPane>
                                    <top>
                                        <Label text="QUẢN LÝ NGƯỜI DÙNG" maxWidth="Infinity" alignment="CENTER"
                                               style="-fx-font-size: 32; -fx-font-weight: normal; -fx-text-fill: #a3151a;"/>
                                    </top>
                                    <center>
                                        <TableView fx:id="userTable" VBox.vgrow="ALWAYS">
                                            <placeholder><Label text="No content in table"/></placeholder>
                                            <columns>
                                                <TableColumn fx:id="userUsernameCol" text="Tên đăng nhập" prefWidth="180"/>
                                                <TableColumn fx:id="userFullnameCol" text="Họ và tên" prefWidth="240"/>
                                                <TableColumn fx:id="userEmailCol" text="Email" prefWidth="280"/>
                                                <TableColumn fx:id="userRoleCol" text="Vai trò" prefWidth="120"/>
                                                <TableColumn fx:id="userExtraCol" text="Ngành/Trạng thái" prefWidth="220"/>
                                            </columns>
                                        </TableView>
                                    </center>
                                    <bottom>
                                        <HBox alignment="CENTER" spacing="20">
                                            <padding>
                                                <Insets top="12" right="0" bottom="18" left="0"/>
                                            </padding>
                                            <children>
                                                <Button fx:id="userReloadBtn" text="Tải lại bảng" onAction="#handleReload"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="userAddBtn" text="Thêm người dùng" onAction="#handleAdd"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="userEditBtn" text="Sửa người dùng" onAction="#handleEdit"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="userDeleteBtn" text="Xoá người dùng" onAction="#handleDelete"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                                <Button fx:id="userDetailBtn" text="Xem chi tiết" onAction="#handleViewDetail"
                                                        style="-fx-background-color: #a3151a; -fx-text-fill: white; -fx-background-radius: 6; -fx-padding: 10 18;"/>
                                            </children>
                                        </HBox>
                                    </bottom>
                                </BorderPane>
                            </content>
                        </Tab>
                    </tabs>
                </TabPane>
            </children>
        </VBox>
    </center>
</BorderPane>
